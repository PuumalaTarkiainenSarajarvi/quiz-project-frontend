{"ast":null,"code":"var _jsxFileName = \"/home/puumalao/Projects/OAMK/3. Year/Cloud Integration/quiz-project/quiz-frontend/src/GameOver.js\";\nimport React, { Component } from \"react\";\nimport './gameover.css';\nimport { nickName } from \"./variables/Variables\";\n\nclass GameOver extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      nickName: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChangeNickName = this.handleChangeNickName.bind(this);\n  }\n\n  componentDidMount() {\n    console.log(\"DDD\", this.props.location.state.score);\n  }\n\n  getContent() {\n    let sessionId = sessionStorage.getItem(\"session_id\");\n  }\n\n  handleChange(event) {\n    this.setState({\n      email: event.target.value\n    });\n  }\n\n  checkIfValid() {\n    console.log(\"HELOO\");\n  }\n\n  handleChangeNickName(event) {\n    this.setState({\n      nickName: event.target.value\n    });\n  }\n\n  goHome() {\n    this.props.history.push('/');\n  }\n\n  sendDataToServer() {\n    let body = {};\n    body['email'] = this.state.email;\n    body[nickName] = this.state.nickName;\n    this.startSendingData(body);\n  }\n\n  startSendingData(body) {\n    let urlAddress = \"http://localhost:5000/api/post_high_score_info\";\n    let sessionId = this.props.location.state.sessionId;\n    fetch(urlAddress, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': sessionId\n      },\n      body: JSON.stringify(body)\n    }).then(function (response) {\n      if (!response.ok) {\n        throw Error(response.statusText);\n      }\n\n      return response;\n    }).then(response => response.json()).then(data => {\n      {\n        this.checkData(data);\n      }\n    }).catch(error => {\n      console.log(error);\n      alert(\"Try again :)\");\n    });\n  }\n\n  checkData(data) {\n    if (data.status === \"Succesfully updated high scores\") {\n      this.props.history.push('/');\n    } else {\n      console.log(\"ei täällä\");\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"overLay\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => {\n        this.goHome();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Back to home page\"), React.createElement(\"div\", {\n      className: \"gameOverContent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Game over :( \"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Your score was: \", this.props.location.state.score), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Email: \"), React.createElement(\"input\", {\n      type: 'email',\n      name: 'email',\n      value: this.state.email,\n      placeholder: 'Email',\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Nickname: \"), React.createElement(\"input\", {\n      type: 'text',\n      name: 'text',\n      value: this.state.nickName,\n      placeholder: 'Nickname',\n      onChange: this.handleChangeNickName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      onClick: () => {\n        this.sendDataToServer();\n      },\n      type: 'submit',\n      name: 'submit',\n      value: 'submit',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default GameOver;","map":{"version":3,"sources":["/home/puumalao/Projects/OAMK/3. Year/Cloud Integration/quiz-project/quiz-frontend/src/GameOver.js"],"names":["React","Component","nickName","GameOver","constructor","props","state","email","handleChange","bind","handleChangeNickName","componentDidMount","console","log","location","score","getContent","sessionId","sessionStorage","getItem","event","setState","target","value","checkIfValid","goHome","history","push","sendDataToServer","body","startSendingData","urlAddress","fetch","method","headers","JSON","stringify","then","response","ok","Error","statusText","json","data","checkData","catch","error","alert","status","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport './gameover.css';\nimport {nickName} from \"./variables/Variables\";\nclass GameOver extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            email: \"\",\n            nickName: \"\",\n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.handleChangeNickName = this.handleChangeNickName.bind(this);\n    }\n\n    componentDidMount() {\n        console.log(\"DDD\", this.props.location.state.score);\n    }\n\n    getContent() {\n        let sessionId = sessionStorage.getItem(\"session_id\");\n\n    }\n\n    handleChange(event) {\n        this.setState({ email: event.target.value })\n    }\n\n    checkIfValid() {\n        console.log(\"HELOO\");\n    }\n\n    handleChangeNickName(event) {\n        this.setState({\n           nickName: event.target.value\n        });\n    }\n    goHome() {\n        this.props.history.push('/');\n    }\n    sendDataToServer() {\n        let body = {};\n        body['email'] = this.state.email;\n        body[nickName] = this.state.nickName;\n        this.startSendingData(body);\n    }\n\n    startSendingData(body) {\n\n        let urlAddress = \"http://localhost:5000/api/post_high_score_info\";\n        let sessionId = this.props.location.state.sessionId;\n        fetch(urlAddress, {\n            method: 'POST',\n            headers: {\n                'Accept' : 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': sessionId,\n            },\n            body: JSON.stringify(body)\n        })\n            .then(function (response) {\n                if (!response.ok) {\n                    throw Error(response.statusText);\n                }\n                return response;\n            })\n            .then(response => response.json())\n            .then(data => {\n                {this.checkData(data)}\n            })\n            .catch((error) => {\n                console.log(error);\n                alert(\"Try again :)\");\n            });\n    }\n\n    checkData(data) {\n        if(data.status === \"Succesfully updated high scores\") {\n            this.props.history.push('/');\n        } else { console.log(\"ei täällä\"); }\n    }\n\n    render() {\n        return (\n            <div className={\"overLay\"}>\n                <button onClick={() => {this.goHome()}}>Back to home page</button>\n                <div className={\"gameOverContent\"}>\n                    <h1>Game over :( </h1>\n                    <br/>\n                    <p>Your score was: {this.props.location.state.score}</p>\n                    <br/>\n                    <p>Email: </p>\n                    <input type={'email'} name={'email'} value={this.state.email} placeholder={'Email'}\n                    onChange={this.handleChange}/>\n                    <br/>\n                    <p>Nickname: </p>\n                    <input type={'text'} name={'text'} value={this.state.nickName} placeholder={'Nickname'}\n                           onChange={this.handleChangeNickName}/>\n                           <br/>\n                           <input onClick={() => {this.sendDataToServer()}} type={'submit'} name={'submit'} value={'submit'}/>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default GameOver\n"]},"metadata":{},"sourceType":"module"}