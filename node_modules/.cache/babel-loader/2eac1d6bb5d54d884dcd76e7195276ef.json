{"ast":null,"code":"var _jsxFileName = \"/home/puumalao/Projects/OAMK/3. Year/Cloud Integration/quiz-project/quiz-frontend/src/QuizGame.js\";\nimport React, { Component } from \"react\";\nimport ClockForGame from \"./ClockForGame\";\nimport { Button, Card } from \"react-bootstrap\";\n\nclass QuizGame extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      gameOver: false,\n      questionId: undefined,\n      question: undefined,\n      answers: undefined,\n      category: undefined,\n      difficulty: undefined,\n      points: 0,\n      sessionId: undefined\n    };\n  }\n\n  async componentDidMount() {\n    this.startGameSession();\n    this.checkIfSessionIsValid();\n  }\n\n  startGameSession() {\n    let urlAddress = \"http://localhost:5000/api/start_game_session\";\n    fetch(urlAddress, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(function (response) {\n      if (!response.ok) {\n        throw Error(response.statusText);\n      }\n\n      return response;\n    }).then(response => response.json()).then(data => {\n      if (data.hasOwnProperty('session_id')) sessionStorage.setItem('session_id', data.session_id);\n      this.props.history.push('/quizgame');\n    });\n  }\n\n  async checkIfSessionIsValid() {\n    let sessionId = sessionStorage.getItem('session_id');\n\n    if (sessionId) {\n      this.setState({\n        sessionId: sessionId\n      });\n      await this.getRandomQuestion();\n    } else {\n      this.props.history.push('/');\n    }\n\n    console.log(\"SESSIONID\", sessionId);\n  }\n\n  getRandomQuestion() {\n    let urlAddress = \"http://localhost:5000/api/get_random_question\";\n    fetch(urlAddress, {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json'\n      }\n    }).then(function (response) {\n      if (!response.ok) {\n        throw Error(response.statusText);\n      }\n\n      return response;\n    }).then(response => response.json()).then(data => {\n      if (data.hasOwnProperty('question') && data.hasOwnProperty('difficulty') && data.hasOwnProperty('answers') && data.hasOwnProperty('_id') && data.hasOwnProperty('category')) {\n        console.log(\"Received response\", data);\n        this.setState({\n          question: this.htmlEntities(data.question),\n          difficulty: data.difficulty,\n          answers: data.answers,\n          questionId: data._id,\n          category: data.category,\n          isLoading: false\n        });\n      } else {\n        console.log(\"error\");\n      }\n    });\n  }\n\n  async checkCorrectAnswer(itm) {\n    let jsonStr = {};\n    let body = {\n      _id: this.state.questionId,\n      correct_answer: itm,\n      session_id: this.state.sessionId\n    };\n    jsonStr['_id'] = this.state.questionId;\n    jsonStr['correct_answer'] = itm;\n    jsonStr['session_id'] = this.state.sessionId;\n    console.log(jsonStr);\n    await this.checkJsonObjectFromApi(body);\n    this.newQuestion();\n  }\n\n  checkJsonObjectFromApi(jsonStr) {\n    console.log(jsonStr);\n    let urlAddress = \"http://localhost:5000/api/check_correct_answer\";\n    fetch(urlAddress, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(jsonStr)\n    }).then(function (response) {\n      if (!response.ok) {\n        throw Error(response.statusText);\n      }\n\n      return response;\n    }).then(response => response.json()).then(data => {\n      console.log(\"CURRENT\", data);\n      this.markCorrectWrongForUser(data);\n    });\n  }\n\n  markCorrectWrongForUser(data) {\n    if (data.hasOwnProperty('current_score')) {\n      this.setState({\n        points: data.current_score\n      });\n    }\n  }\n\n  htmlEntities(encodedString) {\n    let translate_re = /&(nbsp|amp|quot|lt|gt);/g;\n    let translate = {\n      \"nbsp\": \" \",\n      \"amp\": \"&\",\n      \"quot\": \"\\\"\",\n      \"lt\": \"<\",\n      \"gt\": \">\"\n    };\n    return encodedString.replace(translate_re, function (match, entity) {\n      return translate[entity];\n    }).replace(/&#(\\d+);/gi, function (match, numStr) {\n      let num = parseInt(numStr, 10);\n      return String.fromCharCode(num);\n    });\n  }\n\n  getQuestionContent() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(Card, {\n      style: {\n        width: '25rem',\n        height: '350px',\n        margin: '0 auto',\n        padding: '2rem'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(Card.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, this.state.question), React.createElement(Card.Subtitle, {\n      className: \"mb-2 text-muted\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"Category: \", this.state.category), React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \"Difficulty: \", this.state.difficulty), React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"Points: \", this.state.points))));\n  }\n\n  getAnswerData() {\n    if (this.state.answers) {\n      return this.state.answers.map((itm, i) => {\n        return React.createElement(Button, {\n          key: i,\n          variant: \"outline-success\",\n          size: \"sm\",\n          block: true,\n          onClick: () => this.checkCorrectAnswer(itm),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187\n          },\n          __self: this\n        }, itm);\n      });\n    }\n\n    console.log(this.state.answers);\n  }\n\n  newQuestion() {\n    this.setState({\n      isLoading: false\n    });\n    this.getRandomQuestion();\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, \"Loading...\"));\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"quizH\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, \"Quiz Game\"), this.getQuestionContent(), React.createElement(ClockForGame, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"gameAnswerButtons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, this.getAnswerData()));\n  }\n\n}\n\nexport default QuizGame;","map":{"version":3,"sources":["/home/puumalao/Projects/OAMK/3. Year/Cloud Integration/quiz-project/quiz-frontend/src/QuizGame.js"],"names":["React","Component","ClockForGame","Button","Card","QuizGame","constructor","props","state","isLoading","gameOver","questionId","undefined","question","answers","category","difficulty","points","sessionId","componentDidMount","startGameSession","checkIfSessionIsValid","urlAddress","fetch","method","headers","then","response","ok","Error","statusText","json","data","hasOwnProperty","sessionStorage","setItem","session_id","history","push","getItem","setState","getRandomQuestion","console","log","Accept","htmlEntities","_id","checkCorrectAnswer","itm","jsonStr","body","correct_answer","checkJsonObjectFromApi","newQuestion","JSON","stringify","markCorrectWrongForUser","current_score","encodedString","translate_re","translate","replace","match","entity","numStr","num","parseInt","String","fromCharCode","getQuestionContent","width","height","margin","padding","getAnswerData","map","i","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\nimport ClockForGame from \"./ClockForGame\";\nimport {Button, Card} from \"react-bootstrap\";\n\nclass QuizGame extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            isLoading: true,\n            gameOver: false,\n            questionId: undefined,\n            question: undefined,\n            answers: undefined,\n            category: undefined,\n            difficulty: undefined,\n            points: 0,\n            sessionId: undefined,\n        }\n    }\n\n   async componentDidMount() {\n        this.startGameSession();\n        this.checkIfSessionIsValid();\n    }\n\n    startGameSession() {\n        let urlAddress = \"http://localhost:5000/api/start_game_session\";\n        fetch(urlAddress, {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n        })\n            .then(function (response) {\n                if (!response.ok) {\n                    throw Error(response.statusText);\n                }\n                return response;\n            })\n            .then(response => response.json())\n            .then(data => {\n                if(data.hasOwnProperty('session_id'))\n                    sessionStorage.setItem('session_id', data.session_id);\n                this.props.history.push('/quizgame');\n            })\n    }\n\n\n    async checkIfSessionIsValid() {\n        let sessionId = sessionStorage.getItem('session_id');\n        if (sessionId) {\n            this.setState({\n                sessionId: sessionId\n            });\n            await this.getRandomQuestion();\n        } else {\n            this.props.history.push('/');\n        }\n        console.log(\"SESSIONID\", sessionId);\n    }\n\n    getRandomQuestion() {\n\n        let urlAddress = \"http://localhost:5000/api/get_random_question\";\n        fetch(urlAddress, {\n            method: 'GET',\n            headers: {\n                Accept: 'application/json',\n            }\n        })\n            .then(function (response) {\n                if (!response.ok) {\n                    throw Error(response.statusText);\n                }\n                return response;\n            })\n            .then(response => response.json())\n            .then(data => {\n               if(data.hasOwnProperty('question') &&\n                   data.hasOwnProperty('difficulty') &&\n                   data.hasOwnProperty('answers') &&\n                   data.hasOwnProperty('_id') &&\n                   data.hasOwnProperty('category')\n               ) {\n                   console.log(\"Received response\", data);\n\n                   this.setState({\n                       question: this.htmlEntities(data.question),\n                       difficulty: data.difficulty,\n                       answers: data.answers,\n                       questionId: data._id,\n                       category: data.category,\n                       isLoading: false,\n                   });\n               } else {\n                   console.log(\"error\");\n               }\n\n            });\n    }\n\n    async checkCorrectAnswer(itm) {\n        let jsonStr = {};\n        let body ={\n            _id: this.state.questionId,\n            correct_answer: itm,\n            session_id: this.state.sessionId,\n        };\n        jsonStr['_id'] = this.state.questionId;\n        jsonStr['correct_answer'] = itm;\n        jsonStr['session_id'] = this.state.sessionId;\n        console.log(jsonStr);\n        await this.checkJsonObjectFromApi(body);\n        this.newQuestion();\n    }\n\n    checkJsonObjectFromApi(jsonStr) {\n        console.log(jsonStr);\n        let urlAddress = \"http://localhost:5000/api/check_correct_answer\";\n        fetch(urlAddress, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n\n            },\n            body: JSON.stringify(jsonStr)\n        })\n            .then(function (response) {\n                if (!response.ok) {\n                    throw Error(response.statusText);\n                }\n                return response;\n            })\n            .then(response => response.json())\n            .then(data => {\n                console.log(\"CURRENT\", data);\n                this.markCorrectWrongForUser(data)\n            })\n    }\n\n    markCorrectWrongForUser(data) {\n        if(data.hasOwnProperty('current_score')) {\n            this.setState({\n                points: data.current_score,\n            });\n        }\n    }\n\n    htmlEntities(encodedString) {\n        let translate_re = /&(nbsp|amp|quot|lt|gt);/g;\n        let translate = {\n            \"nbsp\":\" \",\n            \"amp\" : \"&\",\n            \"quot\": \"\\\"\",\n            \"lt\"  : \"<\",\n            \"gt\"  : \">\"\n        };\n        return encodedString.replace(translate_re, function(match, entity) {\n            return translate[entity];\n        }).replace(/&#(\\d+);/gi, function(match, numStr) {\n            let num = parseInt(numStr, 10);\n            return String.fromCharCode(num);\n        });\n    }\n\n    getQuestionContent() {\n        return(<div>\n            <Card style={{ width: '25rem', height: '350px', margin: '0 auto', padding: '2rem' }}>\n                <Card.Body>\n                    <Card.Title>{this.state.question}</Card.Title>\n                    <Card.Subtitle className=\"mb-2 text-muted\">Category: {this.state.category}</Card.Subtitle>\n                    <Card.Text>\n                        Difficulty: {this.state.difficulty}\n                    </Card.Text>\n                    <Card.Text>\n                        Points: {this.state.points}\n                    </Card.Text>\n                </Card.Body>\n            </Card>\n\n        </div>)\n    }\n\n    getAnswerData() {\n        if(this.state.answers) {\n            return this.state.answers.map((itm, i) => {\n               return(<Button key={i} variant={\"outline-success\"} size={\"sm\"} block  onClick={() => this.checkCorrectAnswer(itm)}>{itm}</Button>)\n            });\n        }\n        console.log(this.state.answers);\n    }\n\n    newQuestion() {\n        this.setState({\n            isLoading: false\n        });\n        this.getRandomQuestion();\n    }\n\n    render() {\n        if(this.state.isLoading){\n            return(<div>\n                <h1>Loading...</h1>\n            </div>)\n        }\n        return (\n            <div>\n                <h1 className={\"quizH\"}>Quiz Game</h1>\n                {this.getQuestionContent()}\n                <ClockForGame />\n                <div className={\"gameAnswerButtons\"}>\n                {this.getAnswerData()}\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default QuizGame\n"]},"metadata":{},"sourceType":"module"}